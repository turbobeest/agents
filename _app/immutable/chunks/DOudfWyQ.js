import{d as r,w as t}from"./CwSJ3s6M.js";const f=t([]),o=t({status:"unknown",localChanges:[],remoteChanges:[],currentBranch:"unknown"}),c=t({isDirty:!1,agent:null,draftContent:"",draftFrontmatter:{}}),u=t(""),S=t({}),l=t(!1),d=t(null);function h(){l.update(e=>!e)}const g=t(null);r(g,e=>e!==null);r(c,e=>e.isDirty);const m=r(o,e=>{switch(e.status){case"synced":return"Synced";case"local-changes":return`${e.localChanges.length} local change${e.localChanges.length!==1?"s":""}`;case"remote-changes":return`${e.remoteChanges.length} remote change${e.remoteChanges.length!==1?"s":""}`;case"conflict":return"Conflict detected";default:return"Unknown"}});function w(){d.set(null)}const a="agent-manager-drafts";function y(e,n){if(typeof window>"u")return;const s=JSON.parse(localStorage.getItem(a)||"{}");s[e]={content:n,savedAt:new Date().toISOString()},localStorage.setItem(a,JSON.stringify(s))}function p(e){return typeof window>"u"?null:JSON.parse(localStorage.getItem(a)||"{}")[e]?.content||null}function C(e){if(typeof window>"u")return;const n=JSON.parse(localStorage.getItem(a)||"{}");delete n[e],localStorage.setItem(a,JSON.stringify(n))}export{o as a,m as b,C as c,u as d,l as e,S as f,d as g,w as h,p as l,f as n,y as s,h as t,g as u};
