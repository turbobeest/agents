import{d as ht,f as p,e as At,a as i,s as x,h as $t}from"../chunks/Fwj9_Apl.js";import{o as Tt}from"../chunks/BXeGfoMT.js";import{D as Ht,aB as Pt,p as bt,c as a,t as C,g as t,a as _t,r as e,s,n as Ct,k as Rt,i as Dt,l as wt,af as Ut,ad as Vt,e as qt,$ as zt}from"../chunks/DuVWq51O.js";import{B as Ft,i as O}from"../chunks/D4z8do2k.js";import{h as It}from"../chunks/DwhQUYVE.js";import{s as yt,a as V,p as Lt}from"../chunks/tBDAwqHt.js";import{r as Nt,s as M}from"../chunks/C1zIlIMA.js";import{s as A}from"../chunks/DMZ-KFSD.js";import{b as Ot}from"../chunks/gOb69lC5.js";import{t as Qt,a as vt,u as Mt,b as Gt,d as Jt,e as jt,f as mt,n as kt,g as Kt,h as Wt}from"../chunks/DOudfWyQ.js";import{g as Xt,s as Yt}from"../chunks/CqLqwQbq.js";import{b as U}from"../chunks/CRDqfYcy.js";import{e as tt,i as et}from"../chunks/BsLS1PjY.js";function Zt(m,f,...q){var T=new Ft(m);Ht(()=>{const y=f()??null;T.ensure(y,y&&(h=>y(h,...q)))},Pt)}var te=$t('<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>'),ee=$t('<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path></svg>'),ae=p('<div class="flex items-center gap-2"><img class="w-8 h-8 rounded-full"/> <span class="text-sm text-gray-300"> </span> <a class="text-sm text-gray-400 hover:text-gray-300">Logout</a></div>'),re=p('<a class="flex items-center gap-2 px-4 py-2 border border-gray-600 text-gray-300 text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg> Sign in</a>'),se=p('<header class="bg-gray-800 border-b border-gray-700 px-4 py-3 flex items-center justify-between"><div class="flex items-center gap-4"><button type="button" class="p-2 text-gray-400 hover:text-gray-200 hover:bg-gray-700 rounded-lg transition-colors"><!></button> <a class="flex items-center gap-2"><svg class="w-8 h-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <span class="text-xl font-semibold text-gray-100">Agent Manager</span></a> <form class="relative ml-8"><input type="text" placeholder="Search agents..." class="w-80 pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-sm text-gray-100 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"/> <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></form></div> <div class="flex items-center gap-4"><div class="flex items-center gap-2"><button type="button" title="Click to sync"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> <span> </span></button> <span class="text-xs text-gray-500"> </span></div> <a class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> Create</a> <!></div></header>');function ne(m,f){bt(f,!0);const q=()=>V(jt,"$sidebarCollapsed",j),T=()=>V(vt,"$syncStatus",j),y=()=>V(Gt,"$syncStatusText",j),h=()=>V(Mt,"$user",j),[j,Q]=yt();let w=Dt("");function Y(r){r.preventDefault(),t(w).trim()&&(Jt.set(t(w).trim()),Xt(`${U}/search?q=${encodeURIComponent(t(w).trim())}`))}function G(r){switch(r){case"synced":return"text-green-400";case"local-changes":return"text-yellow-400";case"remote-changes":return"text-blue-400";case"conflict":return"text-red-400";default:return"text-gray-500"}}async function J(){if((await(await fetch("/api/sync",{method:"POST"})).json()).success){const b=await(await fetch("/api/sync")).json();b.success&&vt.set(b.data)}}var g=se(),z=a(g),l=a(z);l.__click=function(...r){Qt?.apply(this,r)};var k=a(l);{var $=r=>{var v=te();i(r,v)},at=r=>{var v=ee();i(r,v)};O(k,r=>{q()?r($):r(at,!1)})}e(l);var K=s(l,2),n=s(K,2),o=a(n);Nt(o),Ct(2),e(n),e(z);var H=s(z,2),S=a(H),d=a(S);d.__click=J;var F=s(a(d),2),I=a(F,!0);e(F),e(d);var L=s(d,2),rt=a(L,!0);e(L),e(S);var E=s(S,2),W=s(E,2);{var st=r=>{var v=ae(),c=a(v),b=s(c,2),P=a(b,!0);e(b);var R=s(b,2);e(v),C(()=>{M(c,"src",h().avatar_url),M(c,"alt",h().login),x(P,h().login),M(R,"href",`${U??""}/auth/logout`)}),i(r,v)},u=r=>{var v=re();C(()=>M(v,"href",`${U??""}/auth/login`)),i(r,v)};O(W,r=>{h()?r(st):r(u,!1)})}e(H),e(g),C(r=>{M(l,"aria-label",q()?"Expand sidebar":"Collapse sidebar"),M(K,"href",`${U??""}/`),A(d,1,`flex items-center gap-2 px-3 py-1.5 text-sm rounded-md hover:bg-gray-700 transition-colors ${r??""}`),x(I,y()),x(rt,T().currentBranch),M(E,"href",`${U??""}/create`)},[()=>G(T().status)]),At("submit",n,Y),Ot(o,()=>t(w),r=>Rt(w,r)),i(m,g),_t(),Q()}ht(["click"]);const oe=()=>{const m=Yt;return{page:{subscribe:m.page.subscribe},navigating:{subscribe:m.navigating.subscribe},updated:m.updated}},ie={subscribe(m){return oe().page.subscribe(m)}};var le=p('<a><span class="truncate flex-1"> </span> <span> </span></a>'),de=p('<div class="ml-3 mt-1 space-y-0.5"></div>'),ve=p('<div><button type="button" class="w-full flex items-center justify-between px-3 py-1.5 text-sm text-gray-400 rounded hover:bg-gray-700 transition-colors"><span class="truncate"> </span> <span class="flex items-center gap-1"><span class="text-xs text-gray-500"> </span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></span></button> <!></div>'),ce=p('<div class="ml-3 mt-1 space-y-1"></div>'),pe=p('<div class="mb-2"><button type="button" class="w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-purple-200 rounded-md hover:bg-purple-900/30 transition-colors"><span class="truncate"> </span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!></div>'),ue=p('<h2 class="text-sm font-semibold text-purple-400 uppercase tracking-wide mb-3">Pipeline</h2> <nav class="space-y-1 mb-6"></nav> <div class="border-t border-gray-700 mb-4"></div>',1),fe=p('<a><span class="truncate flex-1"> </span> <span> </span></a>'),ge=p('<div class="ml-3 mt-1 space-y-0.5"></div>'),xe=p('<div><button type="button" class="w-full flex items-center justify-between px-3 py-1.5 text-sm text-gray-400 rounded hover:bg-gray-700 transition-colors"><span class="truncate"> </span> <span class="flex items-center gap-1"><span class="text-xs text-gray-500"> </span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></span></button> <!></div>'),me=p('<div class="ml-3 mt-1 space-y-1"></div>'),he=p('<div class="mb-2"><button type="button" class="w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-gray-200 rounded-md hover:bg-gray-700 transition-colors"><span class="truncate"> </span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!></div>'),be=p('<aside><div class="p-4"><!> <h2 class="text-sm font-semibold text-gray-400 uppercase tracking-wide mb-4">Expert Agents</h2> <nav class="space-y-1"></nav></div></aside>');function _e(m,f){bt(f,!0);const q=()=>V(mt,"$sidebarExpanded",h),T=()=>V(jt,"$sidebarCollapsed",h),y=()=>V(ie,"$page",h),[h,j]=yt();let Q=Lt(f,"categories",19,()=>[]),w=wt(()=>Q().filter(n=>n.isPipeline)),Y=wt(()=>Q().filter(n=>!n.isPipeline));function G(n){mt.update(o=>({...o,[n]:!o[n]}))}function J(n){mt.update(o=>({...o,[n]:!o[n]}))}function g(n,o){return q()[n]??o}function z(n){switch(n){case"phd":return"bg-purple-900/50 text-purple-300";case"expert":return"bg-blue-900/50 text-blue-300";case"focused":return"bg-green-900/50 text-green-300";default:return"bg-gray-700 text-gray-300"}}var l=be(),k=a(l),$=a(k);{var at=n=>{var o=ue(),H=s(Ut(o),2);tt(H,21,()=>t(w),et,(S,d)=>{var F=pe(),I=a(F);I.__click=()=>G(t(d).id);var L=a(I),rt=a(L,!0);e(L);var E=s(L,2);e(I);var W=s(I,2);{var st=u=>{var r=ce();tt(r,21,()=>t(d).subcategories,et,(v,c)=>{var b=ve(),P=a(b);P.__click=()=>J(t(c).id);var R=a(P),ct=a(R,!0);e(R);var dt=s(R,2),nt=a(dt),pt=a(nt,!0);e(nt);var X=s(nt,2);e(dt),e(P);var ot=s(P,2);{var ut=_=>{var D=de();tt(D,21,()=>t(c).agents,et,(it,N)=>{var B=le(),lt=a(B),ft=a(lt,!0);e(lt);var Z=s(lt,2),gt=a(Z,!0);e(Z),e(B),C((xt,St,Et,Bt)=>{M(B,"href",`${U??""}/agents/${t(d).id??""}/${t(c).id??""}/${xt??""}`),A(B,1,`flex items-center gap-2 px-3 py-1.5 text-sm rounded transition-colors
															${St??""}`),x(ft,t(N).name),A(Z,1,`text-xs px-1.5 py-0.5 rounded ${Et??""}`),M(Z,"title",t(N).tier),x(gt,Bt)},[()=>t(N).id.split("/").pop(),()=>y().url.pathname.includes(t(N).id.split("/").pop()||"")?"bg-blue-900/50 text-blue-300":"text-gray-400 hover:bg-gray-700",()=>z(t(N).tier),()=>t(N).tier.charAt(0).toUpperCase()]),i(it,B)}),e(D),i(_,D)};O(ot,_=>{g(t(c).id,t(c).defaultExpanded)&&_(ut)})}e(b),C(_=>{x(ct,t(c).title),x(pt,t(c).agents.length),A(X,0,`w-3 h-3 transition-transform ${_??""}`)},[()=>g(t(c).id,t(c).defaultExpanded)?"rotate-90":""]),i(v,b)}),e(r),i(u,r)};O(W,u=>{g(t(d).id,t(d).defaultExpanded)&&u(st)})}e(F),C(u=>{x(rt,t(d).title),A(E,0,`w-4 h-4 transition-transform ${u??""}`)},[()=>g(t(d).id,t(d).defaultExpanded)?"rotate-90":""]),i(S,F)}),e(H),Ct(2),i(n,o)};O($,n=>{t(w).length>0&&n(at)})}var K=s($,4);tt(K,21,()=>t(Y),et,(n,o)=>{var H=he(),S=a(H);S.__click=()=>G(t(o).id);var d=a(S),F=a(d,!0);e(d);var I=s(d,2);e(S);var L=s(S,2);{var rt=E=>{var W=me();tt(W,21,()=>t(o).subcategories,et,(st,u)=>{var r=xe(),v=a(r);v.__click=()=>J(t(u).id);var c=a(v),b=a(c,!0);e(c);var P=s(c,2),R=a(P),ct=a(R,!0);e(R);var dt=s(R,2);e(P),e(v);var nt=s(v,2);{var pt=X=>{var ot=ge();tt(ot,21,()=>t(u).agents,et,(ut,_)=>{var D=fe(),it=a(D),N=a(it,!0);e(it);var B=s(it,2),lt=a(B,!0);e(B),e(D),C((ft,Z,gt,xt)=>{M(D,"href",`${U??""}/agents/${t(o).id??""}/${t(u).id??""}/${ft??""}`),A(D,1,`flex items-center gap-2 px-3 py-1.5 text-sm rounded transition-colors
														${Z??""}`),x(N,t(_).name),A(B,1,`text-xs px-1.5 py-0.5 rounded ${gt??""}`),M(B,"title",t(_).tier),x(lt,xt)},[()=>t(_).id.split("/").pop(),()=>y().url.pathname.includes(t(_).id.split("/").pop()||"")?"bg-blue-900/50 text-blue-300":"text-gray-400 hover:bg-gray-700",()=>z(t(_).tier),()=>t(_).tier.charAt(0).toUpperCase()]),i(ut,D)}),e(ot),i(X,ot)};O(nt,X=>{g(t(u).id,t(u).defaultExpanded)&&X(pt)})}e(r),C(X=>{x(b,t(u).title),x(ct,t(u).agents.length),A(dt,0,`w-3 h-3 transition-transform ${X??""}`)},[()=>g(t(u).id,t(u).defaultExpanded)?"rotate-90":""]),i(st,r)}),e(W),i(E,W)};O(L,E=>{g(t(o).id,t(o).defaultExpanded)&&E(rt)})}e(H),C(E=>{x(F,t(o).title),A(I,0,`w-4 h-4 transition-transform ${E??""}`)},[()=>g(t(o).id,t(o).defaultExpanded)?"rotate-90":""]),i(n,H)}),e(K),e(k),e(l),C(()=>A(l,1,`bg-gray-800 border-r border-gray-700 overflow-y-auto h-full transition-all duration-300 ease-in-out ${T()?"w-0 opacity-0 overflow-hidden":"w-72 opacity-100"}`)),i(m,l),_t(),j()}ht(["click"]);var ye=p('<meta name="description" content="Manage PhD-grade agent definitions"/>'),we=p('<div class="mb-4 p-4 bg-red-900/50 border border-red-700 rounded-lg flex items-center justify-between"><span class="text-red-300"> </span> <button type="button" class="text-red-400 hover:text-red-300" aria-label="Close"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),ke=p('<div class="min-h-screen bg-gray-900 flex flex-col"><!> <div class="flex flex-1 overflow-hidden"><!> <main class="flex-1 overflow-y-auto p-6"><!> <!></main></div></div>');function Ue(m,f){bt(f,!0);const q=()=>V(kt,"$navigation",y),T=()=>V(Kt,"$errorMessage",y),[y,h]=yt();Vt(()=>{f.data.navigation&&kt.set(f.data.navigation),f.data.syncStatus&&vt.set(f.data.syncStatus),f.data.user&&Mt.set(f.data.user)}),Tt(()=>{if(U)return;const l=setInterval(async()=>{try{const $=await(await fetch(`${U}/api/sync`)).json();$.success&&vt.set($.data)}catch{}},6e4);return()=>clearInterval(l)});var j=ke();It("12qhfyh",l=>{var k=ye();qt(()=>{zt.title="Agent Manager"}),i(l,k)});var Q=a(j);ne(Q,{});var w=s(Q,2),Y=a(w);_e(Y,{get categories(){return q()}});var G=s(Y,2),J=a(G);{var g=l=>{var k=we(),$=a(k),at=a($,!0);e($);var K=s($,2);K.__click=()=>Wt(),e(k),C(()=>x(at,T())),i(l,k)};O(J,l=>{T()&&l(g)})}var z=s(J,2);Zt(z,()=>f.children),e(G),e(w),e(j),i(m,j),_t(),h()}ht(["click"]);export{Ue as component};
